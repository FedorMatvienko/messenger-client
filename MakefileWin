CXX=x86_64-w64-mingw32-g++
CXXFLAGS=-std=c++17 -O3 -Wall -fmessage-length=0 -fPIC

# Путь к заголовочным файлам jsoncpp
JSONCPP_INCLUDE=-I/usr/include/jsoncpp/json

# Путь к библиотеке jsoncpp
JSONCPP_LIB=-L/usr/lib/x86_64-linux-gnu/ -ljsoncpp

# Имя исполняемого файла
TARGET=my_program.exe

# Список исходных файлов
SRCS=main.cpp

# Список объектных файлов
OBJS=$(SRCS:.cpp=.o)

all: $(TARGET)

$(TARGET): $(OBJS)
	$(CXX) $(CXXFLAGS) $(OBJS) -o $(TARGET) $(JSONCPP_LIB)
	

%.o: %.cpp
	$(CXX) $(CXXFLAGS) $(JSONCPP_INCLUDE) -c $< -o $@

clean:
	rm -f $(OBJS)